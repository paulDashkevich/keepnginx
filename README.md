# keepnginx
Домашняя работа на тему:
* настраиваем балансировку веб приложения
> Цель: terraform и ansible роль для развертывания серверов веб приложения под высокую нагрузку и отказоустойчивость
  в работе должны применяться:
  - keepalived,
  - nginx,
  - uwsgi/unicorn/php-fpm
  - некластеризованная бд mysql/mongodb/postgres/redis
 >
# Ход работы
1. Создаём конфигурацию в терраформе для провайдера/хостера AdvancedHosting
2. Запускаем ansible
3. Радуемся

# Виртуалки
1я      - фронтэнд nginx
2я и 3я - бэкэнды c nginx, на которых установлены и настроены php + keepalived
4я      - бэк с MariaDB, на который смотрят предыдущие два сервера

# Логика работы
После конфигурирования серверов заходим по адресу "reverse_dns" выходных данных скрипта terraform. Видим страничку с установкой WordPress
Реверс-прокси nginx пропускает запросы на плавающий ip-адрес в приватной сети, принадлежащий бэкэндам с keepalived, которые работают с БД MariaDB
